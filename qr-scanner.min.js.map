{"version":3,"sources":["qr-scanner.js"],"names":["QrScanner","video","onDecode","canvasSize","DEFAULT_CANVAS_SIZE","$video","$canvas","document","createElement","_onDecode","_active","width","height","_sourceRect","x","y","addEventListener","_updateSourceRect","_scanFrame","_qrWorker","Worker","sourceRectSize","Math","round","min","smallestDimension","videoWidth","videoHeight","paused","ended","requestAnimationFrame","scanImage","then","error","console","active","_cameraOn","_cameraOff","facingMode","exact","constraintsToTry","forEach","constraint","_getMatchingCameraStream","length","Promise","reject","navigator","mediaDevices","getUserMedia","shift","catch","clearTimeout","_offTimeout","_getCameraStream","stream","srcObject","_setVideoMirror","pause","setTimeout","getTracks","stop","style","transform","scaleFactor","red","green","blue","postMessage","type","data","imageOrFileOrUrl","sourceRect","worker","canvas","fixedCanvasSize","alsoTryWithoutSourceRect","promise","resolve","timeout","onMessage","onError","event","removeEventListener","_loadImage","image","imageData","_getImageData","buffer","sourceRectX","sourceRectY","sourceRectWidth","sourceRectHeight","context","getContext","alpha","imageSmoothingEnabled","drawImage","getImageData","HTMLCanvasElement","HTMLVideoElement","window","ImageBitmap","OffscreenCanvas","Image","_awaitImageLoad","File","URL","src","createObjectURL","revokeObjectURL","complete","naturalWidth","onLoad"],"mappings":"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","file":"qr-scanner.min.js","sourcesContent":[]}