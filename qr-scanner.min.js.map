{"version":3,"sources":["qr-scanner.js"],"names":["QrScanner","video","onDecode","canvasSize","DEFAULT_CANVAS_SIZE","$video","$canvas","document","createElement","_onDecode","_active","width","height","_sourceRect","x","y","addEventListener","_updateSourceRect","_scanFrame","_qrWorker","Worker","sourceRectSize","Math","round","min","smallestDimension","videoWidth","videoHeight","paused","ended","requestAnimationFrame","scanImage","then","error","console","active","_cameraOn","_cameraOff","settingsToTry","clearTimeout","_offTimeout","defaultSettings","facingMode","navigator","mediaDevices","getUserMedia","shift","stream","srcObject","catch","length","Error","pause","setTimeout","getTracks","stop","red","green","blue","postMessage","type","data","imageOrFileOrUrl","sourceRect","worker","canvas","fixedCanvasSize","alsoTryWithoutSourceRect","promise","Promise","resolve","reject","timeout","onMessage","onError","event","removeEventListener","_loadImage","image","imageData","_getImageData","buffer","sourceRectX","sourceRectY","sourceRectWidth","sourceRectHeight","context","getContext","alpha","imageSmoothingEnabled","drawImage","getImageData","HTMLCanvasElement","HTMLVideoElement","window","ImageBitmap","OffscreenCanvas","Image","_awaitImageLoad","File","URL","src","createObjectURL","revokeObjectURL","complete","naturalWidth","onLoad"],"mappings":"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","file":"qr-scanner.min.js","sourcesContent":[]}