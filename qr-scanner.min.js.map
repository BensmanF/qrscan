{"version":3,"sources":["qr-scanner.js"],"names":["QrScanner","video","onDecode","canvasSize","DEFAULT_CANVAS_SIZE","$video","$canvas","document","createElement","_onDecode","width","height","_sourceRect","x","y","addEventListener","_updateSourceRect","_scanFrame","_qrWorker","Worker","sourceRectSize","Math","round","min","smallestDimension","videoWidth","videoHeight","paused","ended","requestAnimationFrame","scanImage","then","error","console","active","_cameraOn","_cameraOff","settingsToTry","clearTimeout","_offTimeout","defaultSettings","facingMode","navigator","mediaDevices","getUserMedia","shift","stream","srcObject","catch","length","Error","pause","setTimeout","getTracks","stop","red","green","blue","postMessage","type","data","imageOrFileOrUrl","sourceRect","worker","canvas","fixedCanvasSize","Promise","resolve","reject","timeout","onMessage","onError","event","removeEventListener","_loadImage","image","imageData","_getImageData","buffer","sourceRectX","sourceRectY","sourceRectWidth","sourceRectHeight","context","getContext","alpha","imageSmoothingEnabled","drawImage","getImageData","HTMLCanvasElement","HTMLVideoElement","window","ImageBitmap","OffscreenCanvas","Image","_awaitImageLoad","File","URL","src","createObjectURL","revokeObjectURL","complete","naturalWidth","onLoad"],"mappings":"A,aAAA,KAAMA,UAAN,CACI,WAAW,CAACC,CAAD,CAAQC,CAAR,CAAkBC,CAAA,CAAaH,SAAAI,oBAA/B,CAA8D,CACrE,IAAAC,OAAA,CAAcJ,CACd,KAAAK,QAAA,CAAeC,QAAAC,cAAA,CAAuB,QAAvB,CACf,KAAAC,UAAA,CAAiBP,CAEjB,KAAAI,QAAAI,MAAA,CAAqBP,CACrB,KAAAG,QAAAK,OAAA,CAAsBR,CACtB,KAAAS,YAAA,CAAmB,CACfC,EAAG,CADY,CAEfC,EAAG,CAFY,CAGfJ,MAAOP,CAHQ,CAIfQ,OAAQR,CAJO,CAOnB,KAAAE,OAAAU,iBAAA,CAA6B,SAA7B,CAAwC,EAAA,EAAM,IAAAC,kBAAA,EAA9C,CACA,KAAAX,OAAAU,iBAAA,CAA6B,MAA7B,CAAqC,EAAA,EAAM,CACvC,IAAAC,kBAAA,EACA,KAAAC,WAAA,EAFuC,CAA3C,CAGG,KAHH,CAIA,KAAAC,UAAA,CAAiB,IAAIC,MAAJ,CAAW,sCAAX,CAnBoD,CAsBzE,iBAAiB,EAAG,CAEhB,MAAMC,EAAiBC,IAAAC,MAAA,CAAW,CAAX;AAAe,CAAf,CADGD,IAAAE,IAAAC,CAAS,IAAAnB,OAAAoB,WAATD,CAAiC,IAAAnB,OAAAqB,YAAjCF,CACH,CACvB,KAAAZ,YAAAF,MAAA,CAAyB,IAAAE,YAAAD,OAAzB,CAAmDS,CACnD,KAAAR,YAAAC,EAAA,EAAsB,IAAAR,OAAAoB,WAAtB,CAA+CL,CAA/C,EAAiE,CACjE,KAAAR,YAAAE,EAAA,EAAsB,IAAAT,OAAAqB,YAAtB,CAAgDN,CAAhD,EAAkE,CALlD,CAQpB,UAAU,EAAG,CACT,GAAI,IAAAf,OAAAsB,OAAJ,EAA0B,IAAAtB,OAAAuB,MAA1B,CAA6C,MAAO,MACpDC,sBAAA,CAAsB,EAAA,EAAM,CACxB7B,SAAA8B,UAAA,CAAoB,IAAAzB,OAApB,CAAiC,IAAAO,YAAjC,CAAmD,IAAAM,UAAnD,CAAmE,IAAAZ,QAAnE,CAAiF,IAAjF,CAAAyB,KAAA,CACU,IAAAtB,UADV,CAC0B,CAAAuB,CAAA,CAAA,EAAS,CACvBA,CAAJ,GAAc,oBAAd,EACIC,OAAAD,MAAA,CAAcA,CAAd,CAFuB,CADnC,CAAAD,KAAA,CAMU,EAAA,EAAM,IAAAd,WAAA,EANhB,CADwB,CAA5B,CAFS,CAaT,UAAO,CAAAiB,CAAA,CAAQ,CACXA,CAAJ,CACI,IAAAC,UAAA,EADJ;AAGI,IAAAC,WAAA,EAJW,CAOnB,SAAS,CAACC,CAAD,CAAgB,CACrBC,YAAA,CAAa,IAAAC,YAAb,CACA,OAAMC,EAAkB,CAAC,CACrBC,WAAY,aADS,CAErB/B,MAAO,CAAEa,IAAK,IAAP,CAFc,CAAD,CAGrB,CACCkB,WAAY,aADb,CAEC/B,MAAO,CAAEa,IAAK,GAAP,CAFR,CAHqB,CAMrB,CACCkB,WAAY,aADb,CANqB,CASxBJ,EAAA,CAAgBA,CAAhB,EAAiCG,CACjCE,UAAAC,aAAAC,aAAA,CAAoC,CAChC3C,MAAOoC,CAAAQ,MAAA,EADyB,CAApC,CAAAd,KAAA,CAGU,CAAAe,CAAA,CAAA,EAAU,IAAAzC,OAAA0C,UAAV,CAAkCD,CAH5C,CAAAE,MAAA,CAIW,EAAA,EAAM,CACT,GAAIX,CAAAY,OAAJ,CAA2B,CAA3B,CACI,IAAAd,UAAA,CAAeE,CAAf,CADJ,KAGI,MAAUa,MAAJ,CAAU,uBAAV,CAAN,CAJK,CAJjB,CAZqB,CAyBzB,UAAU,EAAG,CACT,IAAA7C,OAAA8C,MAAA,EACA,KAAAZ,YAAA,CAAmBa,UAAA,CAAW,EAAA,EAAM,IAAA/C,OAAA0C,UAAAM,UAAA,EAAA,CAAkC,CAAlC,CAAAC,KAAA,EAAjB,CAA8D,GAA9D,CAFV,CAKb,mBAAmB,CAACC,CAAD;AAAMC,CAAN,CAAaC,CAAb,CAAmB,CAClC,IAAAvC,UAAAwC,YAAA,CAA2B,CACvBC,KAAM,kBADiB,CAEvBC,KAAM,CAAEL,IAAAA,CAAF,CAAOC,MAAAA,CAAP,CAAcC,KAAAA,CAAd,CAFiB,CAA3B,CADkC,CAQtC,gBAAgB,CAACI,CAAD,CAAmBC,CAAA,CAAW,IAA9B,CAAoCC,CAAA,CAAO,IAA3C,CAAiDC,CAAA,CAAO,IAAxD,CAA8DC,CAAA,CAAgB,KAA9E,CAAqF,CACjG,MAAO,KAAIC,OAAJ,CAAY,CAACC,CAAD,CAAUC,CAAV,CAAA,EAAqB,CACpCL,CAAA,CAASA,CAAT,EAAmB,IAAI5C,MAAJ,CAAW,sCAAX,CADiB,KAEhCkD,CAFgC,CAEvBC,CAFuB,CAEZC,CACxBD,EAAA,CAAY,CAAAE,CAAA,CAAAF,EAAS,CACjB,GAAIE,CAAAZ,KAAAD,KAAJ,GAAwB,UAAxB,CAAA,CAGAI,CAAAU,oBAAA,CAA2B,SAA3B,CAAsCH,CAAtC,CACAP,EAAAU,oBAAA,CAA2B,OAA3B,CAAoCF,CAApC,CACAjC,aAAA,CAAa+B,CAAb,CACIG,EAAAZ,KAAAA,KAAJ,GAAwB,IAAxB,CACIO,CAAA,CAAQK,CAAAZ,KAAAA,KAAR,CADJ,CAGIQ,CAAA,CAAO,oBAAP,CATJ,CADiB,CAarBG,EAAA,CAAU,EAAAA,EAAM,CACZR,CAAAU,oBAAA,CAA2B,SAA3B,CAAsCH,CAAtC,CACAP,EAAAU,oBAAA,CAA2B,OAA3B,CAAoCF,CAApC,CACAjC,aAAA,CAAa+B,CAAb,CACAD;CAAA,CAAO,eAAP,CAJY,CAMhBL,EAAAhD,iBAAA,CAAwB,SAAxB,CAAmCuD,CAAnC,CACAP,EAAAhD,iBAAA,CAAwB,OAAxB,CAAiCwD,CAAjC,CACAF,EAAA,CAAUjB,UAAA,CAAWmB,CAAX,CAAoB,GAApB,CACVvE,UAAA0E,WAAA,CAAqBb,CAArB,CAAA9B,KAAA,CAA4C,CAAA4C,CAAA,CAAA,EAAS,CAC3CC,CAAAA,CAAY5E,SAAA6E,cAAA,CAAwBF,CAAxB,CAA+Bb,CAA/B,CAA2CE,CAA3C,CAAmDC,CAAnD,CAClBF,EAAAL,YAAA,CAAmB,CACfC,KAAM,QADS,CAEfC,KAAMgB,CAFS,CAAnB,CAGG,CAACA,CAAAhB,KAAAkB,OAAD,CAHH,CAFiD,CAArD,CAAA9B,MAAA,CAMSoB,CANT,CAzBoC,CAAjC,CAD0F,CAqCrG,oBAAoB,CAACO,CAAD,CAAQb,CAAA,CAAW,IAAnB,CAAyBE,CAAA,CAAO,IAAhC,CAAsCC,CAAA,CAAgB,KAAtD,CAA6D,CAC7ED,CAAA,CAASA,CAAT,EAAmBzD,QAAAC,cAAA,CAAuB,QAAvB,CACnB,OAAMuE,EAAcjB,CAAA,EAAcA,CAAAjD,EAAd,CAA4BiD,CAAAjD,EAA5B,CAA2C,CAA/D,CACMmE,EAAclB,CAAA,EAAcA,CAAAhD,EAAd,CAA4BgD,CAAAhD,EAA5B,CAA2C,CAD/D,CAEMmE,EAAkBnB,CAAA,EAAcA,CAAApD,MAAd,CAAgCoD,CAAApD,MAAhC,CAAmDiE,CAAAjE,MAAnD,EAAkEiE,CAAAlD,WACpFyD,EAAAA,CAAmBpB,CAAA,EAAcA,CAAAnD,OAAd,CAAiCmD,CAAAnD,OAAjC,CAAqDgE,CAAAhE,OAArD,EAAqEgE,CAAAjD,YAC9F,IAAI,CAACuC,CAAL,GAAyBD,CAAAtD,MAAzB,GAA0CuE,CAA1C,EAA6DjB,CAAArD,OAA7D,GAA+EuE,CAA/E,EAAkG,CAC9FlB,CAAAtD,MAAA,CAAeuE,CACfjB,EAAArD,OAAA;AAAgBuE,CAF8E,CAI5FC,CAAAA,CAAUnB,CAAAoB,WAAA,CAAkB,IAAlB,CAAwB,CAAEC,MAAO,KAAT,CAAxB,CAChBF,EAAAG,sBAAA,CAAgC,KAChCH,EAAAI,UAAA,CAAkBZ,CAAlB,CAAyBI,CAAzB,CAAsCC,CAAtC,CAAmDC,CAAnD,CAAoEC,CAApE,CAAsF,CAAtF,CAAyF,CAAzF,CAA4FlB,CAAAtD,MAA5F,CAA0GsD,CAAArD,OAA1G,CACA,OAAOwE,EAAAK,aAAA,CAAqB,CAArB,CAAwB,CAAxB,CAA2BxB,CAAAtD,MAA3B,CAAyCsD,CAAArD,OAAzC,CAbsE,CAiBjF,iBAAiB,CAACkD,CAAD,CAAmB,CAChC,GAAIA,CAAJ,WAAgC4B,kBAAhC,EAAqD5B,CAArD,WAAiF6B,iBAAjF,EACOC,MAAAC,YADP,EAC6B/B,CAD7B,WACyD8B,OAAAC,YADzD,EAEOD,MAAAE,gBAFP,EAEiChC,CAFjC,WAE6D8B,OAAAE,gBAF7D,CAGI,MAAO3B,QAAAC,QAAA,CAAgBN,CAAhB,CACJ,IAAIA,CAAJ,WAAgCiC,MAAhC,CACH,MAAO9F,UAAA+F,gBAAA,CAA0BlC,CAA1B,CAAA9B,KAAA,CAAiD,EAAA,EAAM8B,CAAvD,CACJ,IAAIA,CAAJ,WAAgCmC,KAAhC,EAAwCnC,CAAxC,WAAoEoC,IAApE,EACC,MAAOpC,EADR;AAC4B,QAD5B,CACsC,CACzC,MAAMc,EAAQ,IAAImB,KAEdnB,EAAAuB,IAAA,CADArC,CAAJ,WAAgCmC,KAAhC,CACgBC,GAAAE,gBAAA,CAAoBtC,CAApB,CADhB,CAGgBA,CAEhB,OAAO7D,UAAA+F,gBAAA,CAA0BpB,CAA1B,CAAA5C,KAAA,CAAsC,EAAA,EAAM,CAC3C8B,CAAJ,WAAgCmC,KAAhC,EACIC,GAAAG,gBAAA,CAAoBzB,CAAAuB,IAApB,CAEJ,OAAOvB,EAJwC,CAA5C,CAPkC,CAczC,MAAOT,QAAAE,OAAA,CAAe,yBAAf,CAtBqB,CA2BpC,sBAAsB,CAACO,CAAD,CAAQ,CAC1B,MAAO,KAAIT,OAAJ,CAAY,CAACC,CAAD,CAAUC,CAAV,CAAA,EAAqB,CACpC,GAAIO,CAAA0B,SAAJ,EAAsB1B,CAAA2B,aAAtB,GAA2C,CAA3C,CAEInC,CAAA,EAFJ,KAGO,CAAA,IACCoC,CADD,CACShC,CACZgC,EAAA,CAAS,EAAAA,EAAM,CACX5B,CAAAF,oBAAA,CAA0B,MAA1B,CAAkC8B,CAAlC,CACA5B,EAAAF,oBAAA,CAA0B,OAA1B,CAAmCF,CAAnC,CACAJ,EAAA,EAHW,CAKfI,EAAA,CAAU,EAAAA,EAAM,CACZI,CAAAF,oBAAA,CAA0B,MAA1B,CAAkC8B,CAAlC,CACA5B,EAAAF,oBAAA,CAA0B,OAA1B,CAAmCF,CAAnC,CACAH,EAAA,CAAO,kBAAP,CAHY,CAKhBO;CAAA5D,iBAAA,CAAuB,MAAvB,CAA+BwF,CAA/B,CACA5B,EAAA5D,iBAAA,CAAuB,OAAvB,CAAgCwD,CAAhC,CAbG,CAJ6B,CAAjC,CADmB,CA1KlC,CAiMAvE,SAAAI,oBAAA,CAAgC","file":"qr-scanner.min.js","sourcesContent":[]}